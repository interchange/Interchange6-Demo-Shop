<specification>
<value name="content" class="content" op="hook"/>

<!-- login / sign-in -->
<container name="dropdown-signin" id="dropdown-signin" value="!session.logged_in_user"/>
<container name="dropdown-logout" id="dropdown-logout" value="session.logged_in_user"/>
<container name="nav-top-login" value="!session.logged_in_user"/>
<container name="nav-top-logout" value="session.logged_in_user"/>

<list name="nav-top-left" iterator="nav-top-left">
  <param name="name" class="uri"/>
  <param name="uri" target="href" op="append"/>
</list>
<list name="nav-top-right" iterator="nav-top-right">
  <param name="name" class="uri"/>
  <param name="uri" target="href" op="append"/>
</list>
<list name="nav-footer" iterator="nav-footer">
  <param name="name" class="uri"/>
  <param name="uri" target="href" op="append"/>
</list>

<!-- number of items in the cart -->
<pattern name="nitems" type="string">321</pattern>
<value name="cart-link" field="cart.count" pattern="nitems" skip="empty"/>

<!-- cart in dropdown -->
<value name="cart-subtotal" field="cart.subtotal" filter="currency"/>
<value name="cart-total" field="cart.total" filter="currency"/>

<list name="cart-dropdown" iterator="cart.products">
  <param name="name" class="product-name"/>
  <param name="quantity" class="product-quantity"/>
  <param name="selling_price" class="product-price" filter="currency"/>
</list>

<pattern name="megadiscount" type="string">45</pattern>
<list name="nav-menu-main" iterator="nav-menu-main">
    <param name="name" class="link-main" field = "name"/>
    <param name="submenu-name" field = "name"/>
    <param name="link-main" field="uri" target="href" op="append"/>
    <list name="megaproducts" class="" iterator="products">
        <param name="has-discount" field="discount_percent" op="toggle" args="tree"/>
        <param name="img-responsive" field="media_products.first.media.uri"/>
        <param name="discount" field="discount_percent" pattern="megadiscount"/>
        <param name="mega-product-link" field="uri" target="href" op="append"/>
        <param name="mega-product-name" class="mega-product-link" field="name"/>
        <param name="price" class="original-price" filter="currency"/>
        <param name="selling_price" class="product-price" filter="currency"/>
        <param name="stock" field="quantity_in_stock" op="toggle" args="tree"/>
        <param name="sku" target="value"/>
    </list>
    <list name="main-sub" class="submenu" iterator="active_children">
        <param name="name-sub" class="link-sub" field = "name"/>
        <param name="link-sub" field="uri" target="href" op="append"/>
    </list>
</list>

<!-- 'back to...' (not done) and breadcrumbs -->
<container name="back-to" value="session.history.fred"/>
<container name="breadcrumb" value="breadcrumb"/>
<list name="crumb" iterator="breadcrumb">
    <param name="breadcrumb-name" field="name"/>
    <param name="breadcrumb-uri" class="breadcrumb-name" field="uri" target="href" op="append"/>
</list>
<container name="page-name" value="page-name"/>
<value name="page-name"/>

<container name="extra-js-file" value="extra-js-file"/>
<value name="extra-js-file" target="src" op="append"/>

</specification>
