<specification>
    <pattern name="discount" type="string">20</pattern>
    <value name="go_up" field="navigation.parent.uri" target="href"
        op="append" skip="empty"/>
    <value name="parent_nav_name" field="navigation.parent.name" skip="empty"/>
    <container name="view-list" value="navigation-view-list"/>
    <container name="view-simple" value="navigation-view-simple"/>
    <container name="view-compact" value="navigation-view-compact"/>
    <container name="view-grid" value="navigation-view-grid"/>

    <list name="view-list" class="product-box-list" iterator="products">
        <param name="name" class="product-name"/>
        <param name="uri" class="product-name" target="href" op="append"/>
        <param name="sku" class="input-sku"/>
        <param name="instock" field="quantity_in_stock" op="toggle"
            args="tree"/>
        <param name="has-discount" op="toggle" args="tree"
            field="discount_percent"/>
        <param name="price" class="original-price" filter="currency"/>
        <param name="product-price" field="selling_price" filter="currency"/>
        <!--param name="sku" class="product-image" target="src" filter="image"/-->
        <!-- params specific to this view -->
        <param name="description" class="product-description"/>
        <param name="discount-list" field="discount_percent"
            pattern="discount"/>
    </list>
    <list name="view-simple" class="product-box-simple" iterator="products">
        <param name="name" class="product-name"/>
        <param name="uri" class="product-name" target="href" op="append"/>
        <param name="sku" class="input-sku"/>
        <param name="instock" field="quantity_in_stock" op="toggle"
            args="tree"/>
        <param name="has-discount" op="toggle" args="tree"
            field="discount_percent"/>
        <param name="price" class="original-price" filter="currency"/>
        <param name="product-price" field="selling_price" filter="currency"/>
        <!--param name="sku" class="product-image" target="src" filter="image"/-->
        <!-- params specific to this view -->
        <param name="discount-list" field="discount_percent"
            pattern="discount"/>
    </list>
    <list name="view-compact" class="product-box-compact" iterator="products">
        <param name="name" class="product-name"/>
        <param name="uri" class="product-name" target="href" op="append"/>
        <param name="sku" class="input-sku"/>
        <param name="instock" field="quantity_in_stock" op="toggle"
            args="tree"/>
        <param name="has-discount" op="toggle" args="tree"
            field="discount_percent"/>
        <param name="price" class="original-price" filter="currency"/>
        <param name="product-price" field="selling_price" filter="currency"/>
        <!--param name="sku" class="product-image" target="src" filter="image"/-->
    </list>

    <list name="view-grid" class="product-box-grid" iterator="products">
        <param name="name" class="product-name"/>
        <param name="uri" class="product-name" target="href" op="append"/>
        <param name="sku" class="input-sku"/>
        <param name="instock" field="quantity_in_stock" op="toggle"
            args="tree"/>
        <param name="has-discount" op="toggle" args="tree"
            field="discount_percent"/>
        <param name="price" class="original-price" filter="currency"/>
        <param name="product-price" field="selling_price" filter="currency"/>
        <!--param name="sku" class="product-image" target="src" filter="image"/-->
        <!--FIXME: need to work out how to make the 'in stock' badge disappear
        <container name="instock-button" value="quantity">
            <value name="quantity" field="inventory" class="instock"/>
        </container>
        -->
    </list>

    <value name="count" field="count"/>
    <value name="pager_first_entry" field="pager.first"/>
    <value name="pager_last_entry" field="pager.last"/>

    <!-- FIXME sibling menu sucks since siblings does not include self -->
    <value name="current_nav" field="navigation.name"/>
    <value name="current_nav_uri" class="current_nav" field="navigation.uri" target="href" op="append"/>
    <list name="nav-sibling" iterator="navigation.siblings">
        <param name="link_name" class="link" field="name"/>
        <param name="link" field="uri" target="href" op="append"/>
    </list>
</specification>
